
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>[脚本]菜单显示血条RMXP用</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    </head>

    <body style="margin-top:1.618%">
        <div class="container">
            <div class="row">
                <div class="jumbotron">
                    <h1 class="display-5">[脚本]菜单显示血条RMXP用</h1>
                </div>
                <br />
                <nav class="nav">
                    <a class="nav-link active" aria-current="page" href="index_7.html">返回</a>
                </nav>
            </div>

            <hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>love_xiaolu</b><br/>
2010-09-22 20:28:37</p>
</div>
<div class="col-10">
<p>[code]# ————————————————————————————————————<br /># 本脚本来自www.66rpg.com，转载请保留此信息<br /># ————————————————————————————————————<br /><br /># HP/SP/EXPゲージ表示スクリプト Ver 1.00<br /># 配布元?サポートURL<br /># http://members.jcom.home.ne.jp/cogwheel/<br /><br />#==============================================================================<br /># ■ Game_Actor<br />#------------------------------------------------------------------------------<br /># 　アクターを扱うクラスです。このクラスは Game_Actors クラス ()<br /># の内部で使用され、Game_Party クラス () からも参照されます。<br />#==============================================================================<br /><br />class Game_Actor < Game_Battler<br />  def now_exp<br />    return @exp - @exp_list[@level]<br />  end<br />  def next_exp<br />    return @exp_list[@level+1] > 0 ? @exp_list[@level+1] - @exp_list[@level] : 0<br />  end<br />end<br /><br />#==============================================================================<br /># ■ Window_Base<br />#------------------------------------------------------------------------------<br /># 　ゲーム中のすべてのウィンドウのスーパークラスです。<br />#==============================================================================<br /><br />class Window_Base < Window<br />  #--------------------------------------------------------------------------<br />  # ● HP ゲージの描画<br />  #--------------------------------------------------------------------------<br />  # オリジナルのHP描画を draw_actor_hp_original と名前変更<br />  alias :draw_actor_hp_original :draw_actor_hp<br />  def draw_actor_hp(actor, x, y, width = 144)<br />    # 変数rateに 現在のHP/MHPを代入<br />    if actor.maxhp != 0<br />      rate = actor.hp.to_f / actor.maxhp<br />    else<br />      rate = 0<br />    end<br />    # plus_x:X座標の位置補正 rate_x:X座標の位置補正(%) plus_y:Y座標の位置補正<br />    # plus_width:幅の補正 rate_width:幅の補正(%) height:縦幅<br />    # align1:描画タイプ1 0:左詰め 1:中央揃え 2:右詰め<br />    # align2:描画タイプ2 0:上詰め 1:中央揃え 2:下詰め<br />    # align3:ゲージタイプ 0:左詰め 1:右詰め<br />    plus_x = 0<br />    rate_x = 0<br />    plus_y = 25<br />    plus_width = 0<br />    rate_width = 100<br />    height = 10<br />    align1 = 1<br />    align2 = 2<br />    align3 = 0<br />    # グラデーション設定 grade1:空ゲージ grade2:実ゲージ<br />    # (0:横にグラデーション 1:縦にグラデーション 2:斜めにグラデーション(激重)）<br />    grade1 = 1<br />    grade2 = 0<br />    # 色設定。color1:外枠，color2:中枠<br />    # color3:空ゲージダークカラー，color4:空ゲージライトカラー<br />    # color5:実ゲージダークカラー，color6:実ゲージライトカラー<br />    color1 = Color.new(0, 0, 0, 192)<br />    color2 = Color.new(255, 255, 192, 192)<br />    color3 = Color.new(0, 0, 0, 192)<br />    color4 = Color.new(64, 0, 0, 192)<br />    color5 = Color.new(80 - 24 * rate, 80 * rate, 14 * rate, 192)<br />    color6 = Color.new(240 - 72 * rate, 240 * rate, 62 * rate, 192)<br />    # 変数spに描画するゲージの幅を代入<br />    if actor.maxhp != 0<br />      hp = (width + plus_width) * actor.hp * rate_width / 100 / actor.maxhp<br />    else<br />      hp = 0<br />    end<br />    # ゲージの描画<br />    gauge_rect(x + plus_x + width * rate_x / 100, y + plus_y,<br />                width, plus_width + width * rate_width / 100,<br />                height, hp, align1, align2, align3,<br />                color1, color2, color3, color4, color5, color6, grade1, grade2)<br />    # オリジナルのHP描画処理を呼び出し<br />    draw_actor_hp_original(actor, x, y, width)<br />  end<br />  #--------------------------------------------------------------------------<br />  # ● SP ゲージの描画<br />  #--------------------------------------------------------------------------<br />  # オリジナルのSP描画を draw_actor_sp_original と名前変更<br />  alias :draw_actor_sp_original :draw_actor_sp<br />  def draw_actor_sp(actor, x, y, width = 144)<br />    # 変数rateに 現在のSP/MSPを代入<br />    if actor.maxsp != 0<br />      rate = actor.sp.to_f / actor.maxsp<br />    else<br />      rate = 1<br />    end<br />    # plus_x:X座標の位置補正 rate_x:X座標の位置補正(%) plus_y:Y座標の位置補正<br />    # plus_width:幅の補正 rate_width:幅の補正(%) height:縦幅<br />    # align1:描画タイプ1 0:左詰め 1:中央揃え 2:右詰め<br />    # align2:描画タイプ2 0:上詰め 1:中央揃え 2:下詰め<br />    # align3:ゲージタイプ 0:左詰め 1:右詰め<br />    plus_x = 0<br />    rate_x = 0<br />    plus_y = 25<br />    plus_width = 0<br />    rate_width = 100<br />    height = 10<br />    align1 = 1<br />    align2 = 2<br />    align3 = 0<br />    # グラデーション設定 grade1:空ゲージ grade2:実ゲージ<br />    # (0:横にグラデーション 1:縦にグラデーション 2:斜めにグラデーション(激重)）<br />    grade1 = 1<br />    grade2 = 0<br />    # 色設定。color1:外枠，color2:中枠<br />    # color3:空ゲージダークカラー，color4:空ゲージライトカラー<br />    # color5:実ゲージダークカラー，color6:実ゲージライトカラー<br />    color1 = Color.new(0, 0, 0, 192)<br />    color2 = Color.new(255, 255, 192, 192)<br />    color3 = Color.new(0, 0, 0, 192)<br />    color4 = Color.new(0, 64, 0, 192)<br />    color5 = Color.new(14 * rate, 80 - 24 * rate, 80 * rate, 192)<br />    color6 = Color.new(62 * rate, 240 - 72 * rate, 240 * rate, 192)<br />    # 変数spに描画するゲージの幅を代入<br />    if actor.maxsp != 0<br />      sp = (width + plus_width) * actor.sp * rate_width / 100 / actor.maxsp<br />    else<br />      sp = (width + plus_width) * rate_width / 100<br />    end<br />    # ゲージの描画<br />    gauge_rect(x + plus_x + width * rate_x / 100, y + plus_y,<br />                width, plus_width + width * rate_width / 100,<br />                height, sp, align1, align2, align3,<br />                color1, color2, color3, color4, color5, color6, grade1, grade2)<br />    # オリジナルのSP描画処理を呼び出し<br />    draw_actor_sp_original(actor, x, y, width)<br />  end<br />  #--------------------------------------------------------------------------<br />  # ● EXP ゲージの描画<br />  #--------------------------------------------------------------------------<br />  # オリジナルのEXP描画を draw_actor_sp_original と名前変更<br />  alias :draw_actor_exp_original :draw_actor_exp<br />  def draw_actor_exp(actor, x, y, width = 204)<br />    # 変数rateに 現在のexp/nextexpを代入<br />    if actor.next_exp != 0<br />      rate = actor.now_exp.to_f / actor.next_exp<br />    else<br />      rate = 1<br />    end<br />    # plus_x:X座標の位置補正 rate_x:X座標の位置補正(%) plus_y:Y座標の位置補正<br />    # plus_width:幅の補正 rate_width:幅の補正(%) height:縦幅<br />    # align1:描画タイプ1 0:左詰め 1:中央揃え 2:右詰め<br />    # align2:描画タイプ2 0:上詰め 1:中央揃え 2:下詰め<br />    # align3:ゲージタイプ 0:左詰め 1:右詰め<br />    plus_x = 0<br />    rate_x = 0<br />    plus_y = 25<br />    plus_width = 0<br />    rate_width = 100<br />    height = 10<br />    align1 = 1<br />    align2 = 2<br />    align3 = 0<br />    # グラデーション設定 grade1:空ゲージ grade2:実ゲージ<br />    # (0:横にグラデーション 1:縦にグラデーション 2:斜めにグラデーション(激重)）<br />    grade1 = 1<br />    grade2 = 0<br />    # 色設定。color1:外枠，color2:中枠<br />    # color3:空ゲージダークカラー，color4:空ゲージライトカラー<br />    # color5:実ゲージダークカラー，color6:実ゲージライトカラー<br />    color1 = Color.new(0, 0, 0, 192)<br />    color2 = Color.new(255, 255, 192, 192)<br />    color3 = Color.new(0, 0, 0, 192)<br />    color4 = Color.new(64, 0, 0, 192)<br />    color5 = Color.new(80 * rate, 80 - 80 * rate ** 2, 80 - 80 * rate, 192)<br />    color6 = Color.new(240 * rate, 240 - 240 * rate ** 2, 240 - 240 * rate, 192)<br />    # 変数expに描画するゲージの幅を代入<br />    if actor.next_exp != 0<br />      exp = (width + plus_width) * actor.now_exp * rate_width /<br />                                                          100 / actor.next_exp<br />    else<br />      exp = (width + plus_width) * rate_width / 100<br />    end<br />    # ゲージの描画<br />    gauge_rect(x + plus_x + width * rate_x / 100, y + plus_y,<br />                width, plus_width + width * rate_width / 100,<br />                height, exp, align1, align2, align3,<br />                color1, color2, color3, color4, color5, color6, grade1, grade2)<br />    # オリジナルのEXP描画処理を呼び出し<br />    draw_actor_exp_original(actor, x, y)<br />  end<br />  #--------------------------------------------------------------------------<br />  # ● ゲージの描画<br />  #--------------------------------------------------------------------------<br />  def gauge_rect(x, y, rect_width, width, height, gauge, align1, align2, align3,<br />                color1, color2, color3, color4, color5, color6, grade1, grade2)<br />    case align1<br />    when 1<br />      x += (rect_width - width) / 2<br />    when 2<br />      x += rect_width - width<br />    end<br />    case align2<br />    when 1<br />      y -= height / 2<br />    when 2<br />      y -= height<br />    end<br />    # 枠描画<br />    self.contents.fill_rect(x, y, width, height, color1)<br />    self.contents.fill_rect(x + 1, y + 1, width - 2, height - 2, color2)<br />    if align3 == 0<br />      if grade1 == 2<br />        grade1 = 3<br />      end<br />      if grade2 == 2<br />        grade2 = 3<br />      end<br />    end<br />    if (align3 == 1 and grade1 == 0) or grade1 > 0<br />      color = color3<br />      color3 = color4<br />      color4 = color<br />    end<br />    if (align3 == 1 and grade2 == 0) or grade2 > 0<br />      color = color5<br />      color5 = color6<br />      color6 = color<br />    end<br />    # 空ゲージの描画<br />    self.contents.gradation_rect(x + 2, y + 2, width - 4, height - 4,<br />                                  color3, color4, grade1)<br />    if align3 == 1<br />      x += width - gauge<br />    end<br />    # 実ゲージの描画<br />    self.contents.gradation_rect(x + 2, y + 2, gauge - 4, height - 4,<br />                                  color5, color6, grade2)<br />  end<br />end<br /><br />#------------------------------------------------------------------------------<br /># 　Bitmapクラスに新たな機能を追加します。<br />#==============================================================================<br /><br />class Bitmap<br />  #--------------------------------------------------------------------------<br />  # ● 矩形をグラデーション表示<br />  #     color1 : スタートカラー<br />  #     color2 : エンドカラー<br />  #     align  :  0:横にグラデーション<br />  #               1:縦にグラデーション<br />  #               2:斜めにグラデーション（激重につき注意）<br />  #--------------------------------------------------------------------------<br />  def gradation_rect(x, y, width, height, color1, color2, align = 0)<br />    if align == 0<br />      for i in x...x + width<br />        red   = color1.red + (color2.red - color1.red) * (i - x) / (width - 1)<br />        green = color1.green +<br />                (color2.green - color1.green) * (i - x) / (width - 1)<br />        blue  = color1.blue +<br />                (color2.blue - color1.blue) * (i - x) / (width - 1)<br />        alpha = color1.alpha +<br />                (color2.alpha - color1.alpha) * (i - x) / (width - 1)<br />        color = Color.new(red, green, blue, alpha)<br />        fill_rect(i, y, 1, height, color)<br />      end<br />    elsif align == 1<br />      for i in y...y + height<br />        red   = color1.red +<br />                (color2.red - color1.red) * (i - y) / (height - 1)<br />        green = color1.green +<br />                (color2.green - color1.green) * (i - y) / (height - 1)<br />        blue  = color1.blue +<br />                (color2.blue - color1.blue) * (i - y) / (height - 1)<br />        alpha = color1.alpha +<br />                (color2.alpha - color1.alpha) * (i - y) / (height - 1)<br />        color = Color.new(red, green, blue, alpha)<br />        fill_rect(x, i, width, 1, color)<br />      end<br />    elsif align == 2<br />      for i in x...x + width<br />        for j in y...y + height<br />          red   = color1.red + (color2.red - color1.red) *<br />                  ((i - x) / (width - 1.0) + (j - y) / (height - 1.0)) / 2<br />          green = color1.green + (color2.green - color1.green) *<br />                  ((i - x) / (width - 1.0) + (j - y) / (height - 1.0)) / 2<br />          blue  = color1.blue + (color2.blue - color1.blue) *<br />                  ((i - x) / (width - 1.0) + (j - y) / (height - 1.0)) / 2<br />          alpha = color1.alpha + (color2.alpha - color1.alpha) *<br />                  ((i - x) / (width - 1.0) + (j - y) / (height - 1.0)) / 2<br />          color = Color.new(red, green, blue, alpha)<br />          set_pixel(i, j, color)<br />        end<br />      end<br />    elsif align == 3<br />      for i in x...x + width<br />        for j in y...y + height<br />          red   = color1.red + (color2.red - color1.red) *<br />                ((x + width - i) / (width - 1.0) + (j - y) / (height - 1.0)) / 2<br />          green = color1.green + (color2.green - color1.green) *<br />                ((x + width - i) / (width - 1.0) + (j - y) / (height - 1.0)) / 2<br />          blue  = color1.blue + (color2.blue - color1.blue) *<br />                ((x + width - i) / (width - 1.0) + (j - y) / (height - 1.0)) / 2<br />          alpha = color1.alpha + (color2.alpha - color1.alpha) *<br />                ((x + width - i) / (width - 1.0) + (j - y) / (height - 1.0)) / 2<br />          color = Color.new(red, green, blue, alpha)<br />          set_pixel(i, j, color)<br />        end<br />      end<br />    end<br />  end<br />end<br />[/code]</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>a4381782</b><br/>
2010-09-22 20:28:53</p>
</div>
<div class="col-10">
<p>    才发现你的签名<br />  原来你也是笨蛋迷啊  呵呵<br />  我等异端审问会<br />  搭讪什么的全是死刑</p>
</div>
</div>


            
            <div class="row">
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-center">
                    <!--<li class="page-item disabled">
                        <a class="page-link">Previous</a>
                    </li>
                    <li class="page-item"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#">Next</a>
                    </li>
                        -->
                        <li class="page-item active">
<a class="page-link" href="post6485_1.html">1</a>
</li>


                    </ul>
                </nav>
            </div>
        </div>


        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    </body>
</html>

