
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>[JGE++教程] 第3篇: JSprite</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    </head>

    <body style="margin-top:1.618%">
        <div class="container">
            <div class="row">
                <div class="jumbotron">
                    <h1 class="display-5">[JGE++教程] 第3篇: JSprite</h1>
                </div>
                <br />
                <nav class="nav">
                    <a class="nav-link active" aria-current="page" href="index_1.html">返回</a>
                </nav>
            </div>

            <hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>掌叔</b><br/>
2008-06-10 15:50:58</p>
</div>
<div class="col-10">
<p>摘自：bbs.khors.com<br />作者：Dr.Watson<br /><br />JSprite 就是游戏里的"精灵", 用以寄放游戏内的角色之用, 主要功能就是动画处理.<br /><br />动画种类:<br /><br />ANIMATION_TYPE_LOOPING          重複播放<br />ANIMATION_TYPE_ONCE_AND_GONE    播放一次然后消失<br />ANIMATION_TYPE_ONCE_AND_BACK    播放一次然后停在第一格<br />ANIMATION_TYPE_PINGPONG         由前到后再由后到前的重複播放<br /><br /><br />对外变数:<br /><br /><br />bool mVisible     是否显示<br /><br />float mX          x位置<br /><br />float mY          y位置<br /><br /><br /><br /><br />JSprite methods:<br /><br />JSprite::JSprite(JTexture *tex, float x, float y, float width, float height, bool flipped = false)<br /><br />功能: 物件初始.<br /><br />参数:<br /><br />      tex - 贴图<br />      x - x贴图位置<br />      y - y贴图位置<br />      width - 贴图宽度<br />      height - 贴图高度<br />      flipped - 左右反转<br /><br /><br />virtual void JSprite::Update(float dt)<br /><br />功能: 更新动画.<br /><br />参数:<br /><br />      dt - 更新所用时间 (1/1000秒)<br /><br /><br />virtual void JSprite::Render();<br /><br />功能: 显示动画<br /><br /><br />void JSprite::SetPosition(float x, float y)<br /><br />功能: 设定位置<br /><br />参数:<br /><br />      x - x位置<br />      y - y位置<br /><br /><br />void JSprite::AddFrame(int x, int y, int width, int height, bool flipped = false)<br /><br />功能: 新增一个动画格<br /><br />参数:<br /><br />      x - x贴图位置<br />      y - y贴图位置<br />      width - 贴图宽度<br />      height - 贴图高度<br />      flipped - 左右反转<br /><br /><br />void JSprite::SetDuration(float duration)<br /><br />功能: 设定动画速度<br /><br />参数:<br /><br />      duration - 动画每格更新时间(1/1000秒)<br /><br /><br />virtual bool JSprite::CollideWith(JSprite *sprite)<br /><br />功能: 碰撞测试<br /><br />参数:<br /><br />      sprite - 碰撞测试对象<br /><br /><br />void JSprite::SetCollisionCircle(float cx, float cy, float radius)<br /><br />功能: 设定碰撞测试圆形<br /><br />参数:<br /><br />      cx - 圆心x<br />      cy - 圆心y<br />      radius - 圆半经<br /><br /><br />void JSprite::SetAnimationType(int type)<br /><br />功能: 设定动画播放方法<br /><br />参数:<br /><br />      type - 播放方法<br /><br /><br />void JSprite::ResetFrame()<br /><br />功能: 重置动画到第一格<br /><br /><br />void JSprite::StartAnimation()<br /><br />功能: 开始动画更新<br /><br /><br />void JSprite::StopAnimation()<br /><br />功能: 停止动画更新<br /><br /><br /><br />void JSprite::EnableAlpha(bool flag, float delta=0.0f)<br /><br />功能: 设定更新时调整透明度<br /><br />参数:<br /><br />      flag - true:更新 false:不更新<br />      delta - 调整幅度<br /><br /><br />void JSprite::EnableScaling(bool flag, float delta=0.0f)<br /><br />功能: 设定更新时调整缩放率<br /><br />参数:<br /><br />      flag - true:更新 false:不更新<br />      delta - 调整幅度<br /><br /><br />void JSprite::EnableRotation(bool flag, float delta=0.0f)<br /><br />功能: 设定更新时调整角度<br /><br />参数:<br /><br />      flag - true:更新 false:不更新<br />      delta - 调整幅度<br /><br /><br />void JSprite::SetAlpha(float alpha)<br /><br />功能: 设定透明度<br /><br />参数:<br /><br />      alpha - 透明度<br /><br /><br />void JSprite::SetScale(float hscale, float vscale)<br /><br />功能: 设定缩放率<br /><br />参数:<br /><br />      hscale - 水平缩放率<br />      vscale - 垂直缩放率<br /><br /><br />void JSprite::SetRotation(float rot)<br /><br />功能: 设定角度<br /><br />参数:<br /><br />      rot - 角度<br /><br /><br />JQuad* JSprite::GetQuad()<br /><br />功能: 拿取贴图四边形<br /><br />回应:<br /><br />      贴图四边形<br /><br /><br />float JSprite::GetXVelocity()<br /><br />功能: 拿取x移动速度<br /><br />回应:<br /><br />      x移动速度<br /><br /><br />float JSprite::GetYVelocity()<br /><br />功能: 拿取y移动速度<br /><br />回应:<br /><br />      y移动速度<br /><br /><br />void JSprite::SetSpeed(float speed)<br /><br />功能: 设定移动速度<br /><br />参数:<br /><br />      speed - 移动速度<br /><br /><br />float JSprite::GetSpeed()<br /><br />功能: 拿取移动速度<br /><br />回应:<br /><br />      移动速度<br /><br /><br />void JSprite::SetAngle(float angle)<br /><br />功能: 设定移动角度<br /><br />参数:<br /><br />      angle - 移动角度<br /><br /><br />void JSprite::SetAngle(float x, float y)<br /><br />功能: 以目标设定移动角度<br /><br />参数:<br /><br />      x - 目标x<br />      y - 目标y<br /><br /><br />void JSprite::SetHotSpot(float x, float y)<br /><br />功能: 设定动画中心点<br /><br />参数:<br /><br />      x - 中心点x<br />      y - 中心点y<br /><br /><br />void JSprite::SetColor(PIXEL_TYPE color)<br /><br />功能: 设定渲染颜色<br /><br />参数:<br /><br />      color - 渲染颜色<br /><br /><br />void JSprite::SetBlendMode(int blend)<br /><br />功能: 设定渲染模式<br /><br />参数:<br /><br />      blend - 渲染模式<br /><br /><br /><br />float JSprite::GetAlpha()<br /><br />功能: 拿取透明度<br /><br />回应:<br /><br />      透明度<br /><br /><br />float JSprite::GetAngle()<br /><br />功能: 拿取移动角度<br /><br />回应:<br /><br />      移动角度<br /><br /><br />float JSprite::GetRotation()<br /><br />功能: 拿取贴图角度<br /><br />回应:<br /><br />      贴图角度<br /><br /><br /><br />int JSprite::GetId()<br /><br />功能: 拿取精灵id<br /><br />回应:<br /><br />      精灵id<br /><br /><br />void JSprite::SetFlip(bool flip, int index = -1)<br /><br />功能: 设定左右反转<br /><br />参数:<br /><br />      flip - true: 反转 false:不反转<br />      index - 动画格指标 (-1: 所有格)<br /><br /><br /><br />void JSprite::SetBBox(int x, int y, int width, int height)<br /><br />功能: 设定碰撞测试四边形 (未应用)<br /><br />参数:<br /><br />      x - x位置<br />      y - y位置<br />      width - 宽度<br />      height - 高度<br /><br /><br />void JSprite::GetBBox(int x, int y, int* xNow, int* yNow, int* width, int *height)<br /><br />功能: 拿取碰撞测试四边形<br /><br />参数:<br /><br />      x - x位置<br />      y - y位置<br /><br /><br />回应:<br /><br />      xNow - x位置<br />      yNow - y位置<br />      width - 宽度<br />      height - 高度<br /><br /><br />int JSprite::GetAnimationFrame()<br /><br />功能: 拿取现时动画格数值<br /><br />回应:<br /><br />      现时动画格数值<br /><br /><br />void JSprite::SetAnimationFrame(int frame)<br /><br />功能: 设定动画格数值<br /><br />参数:<br /><br />      frame - 动画格数值</p>
</div>
</div>


            
            <div class="row">
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-center">
                    <!--<li class="page-item disabled">
                        <a class="page-link">Previous</a>
                    </li>
                    <li class="page-item"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#">Next</a>
                    </li>
                        -->
                        <li class="page-item active">
<a class="page-link" href="post98_1.html">1</a>
</li>


                    </ul>
                </nav>
            </div>
        </div>


        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    </body>
</html>

