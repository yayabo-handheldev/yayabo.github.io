
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>ZEngine Demo 1 - ZImage 初级使用 (更新版本v101109)</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    </head>

    <body style="margin-top:1.618%">
        <div class="container">
            <div class="row">
                <div class="jumbotron">
                    <h1 class="display-5">ZEngine Demo 1 - ZImage 初级使用 (更新版本v101109)</h1>
                </div>
                <br />
                <nav class="nav">
                    <a class="nav-link active" aria-current="page" href="index_6.html">返回</a>
                </nav>
            </div>

            <hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>easycker</b><br/>
2010-11-08 22:57:14</p>
</div>
<div class="col-10">
<p>[i=s] 本帖最后由 easycker 于 2010-11-10 16:30 编辑 [/i]<br /><br />[color=Red]以后默认C:psp_developmentNGE2libnge2NGE2 ZeusEngineproject 1为引擎项目目录[/color]<br /><br />ZImage类：图形处理类<br /><br />新建一个ZEngine项目（就是复制，说明文件中有写）<br /><br />在里面新建一个image文件夹，在里面放入名为demo0.jpg的图片文件<br />零，框架。以下是Game.h和Game.cpp的原始内容，只要把之后教材中不同的地方添加进去就可以了[code]Game.h:<br />#ifndef _GAME_H<br />#define _GAME_H<br /><br />#include "ZGame.h"<br /><br />[code]<br />class Game : public ZGame<br />{<br />public:<br />	Game(){}<br />	~Game(){}<br />	<br />	void GameInitial();<br />	void GameCircle();<br />	void GameDrawScene();<br />	void GameButtonDown(int nKeyNumber);<br />	void GameButtonUp(int nKeyNumber);<br />	void GameEnd();<br />};<br /><br />#endif<br />[/code][/code]Game.cpp:[code]<br />//游戏入口类<br /><br />#include "Game.h"<br /><br />void Game::GameInitial()<br />{<br />	<br />}<br /><br /><br />//游戏循环<br />void Game::GameCircle()<br />{<br />	<br />}<br /><br />//游戏绘图<br />void Game::GameDrawScene()<br />{<br /><br />}<br /><br />//按下按键<br />void Game::GameButtonDown(int nKeyNumber)<br />{<br />	<br />}<br /><br />//弹起按键<br />void Game::GameButtonUp(int nKeyNumber)<br />{<br />	<br />}<br /><br />//游戏结束<br />void Game::GameEnd()<br />{<br />	Quit();<br />}<br /><br />[/code]一，最基本的显示<br /><br />Game.h:[code]<br />#ifndef _GAME_H<br />#define _GAME_H<br /><br />#include "ZGame.h"<br /><br />class Game : public ZGame<br />{<br />public:<br />	Game(){}<br />	~Game(){}<br />	<br />	void GameInitial();<br />	void GameCircle();<br />	void GameDrawScene();<br />	void GameButtonDown(int nKeyNumber);<br />	void GameButtonUp(int nKeyNumber);<br />	void GameEnd();<br /><br />private:<br />	ZImage *m_img_demo; //这里添加图形类的对象<br />};<br /><br />#endif<br />[/code]Game.cpp:<br />//游戏入口类[code]<br />#include "Game.h"<br /><br />void Game::GameInitial()<br />{<br />	//图像加载<br />	this->m_img_demo = new ZImage;<br />	this->m_img_demo->Load("image/demo0.jpg");<br />}<br /><br /><br />//游戏循环<br />void Game::GameCircle()<br />{<br />	<br />}<br /><br />//游戏绘图<br />void Game::GameDrawScene()<br />{<br />	this->m_img_demo->Show();<br />}<br /><br />//按下按键<br />void Game::GameButtonDown(int nKeyNumber)<br />{<br />	if(nKeyNumber == PSP_BUTTON_SELECT)GameEnd(); //按Select退出程序<br />}<br /><br />//弹起按键<br />void Game::GameButtonUp(int nKeyNumber)<br />{<br />	<br />}<br /><br />//游戏结束<br />void Game::GameEnd()<br />{<br />	Quit();<br />}<br />[/code]运行后显示图片<br /><br />[attach]16669[/attach]<br /><br /><br /><br /><br />二，简单的移动图片[code]<br />Game.h:<br />#ifndef _GAME_H<br />#define _GAME_H<br /><br />#include "ZGame.h"<br /><br />class Game : public ZGame<br />{<br />public:<br />	Game(){}<br />	~Game(){}<br />	<br />	void GameInitial();<br />	void GameCircle();<br />	void GameDrawScene();<br />	void GameButtonDown(int nKeyNumber);<br />	void GameButtonUp(int nKeyNumber);<br />	void GameEnd();<br /><br />private:<br />	ZImage *m_img_demo;<br />	float m_img_demo_x,m_img_demo_y;<br />};<br /><br />#endif<br />[/code]Game.cpp:<br />//游戏入口类[code]<br /><br />#include "Game.h"<br /><br />void Game::GameInitial()<br />{<br />	//图像加载<br />	this->m_img_demo = new ZImage;<br />	this->m_img_demo->Load("image/demo0.jpg");<br />	this->m_img_demo_x = 0;<br />	this->m_img_demo_y = 0;<br />}<br /><br /><br />//游戏循环<br />void Game::GameCircle()<br />{<br />	<br />}<br /><br />//游戏绘图<br />void Game::GameDrawScene()<br />{<br />	this->m_img_demo->Show(this->m_img_demo_x,this->m_img_demo_y); //按坐标显示<br />}<br /><br />//按下按键<br />void Game::GameButtonDown(int nKeyNumber)<br />{<br />	if(nKeyNumber == PSP_BUTTON_SELECT)GameEnd(); //按Select退出程序<br />	if(nKeyNumber == PSP_BUTTON_UP) //上 用IF IF IF IF 而不用IF ELSE 意在按键可以做同时按下的处理<br />		this->m_img_demo_y -= 10;<br />	if(nKeyNumber == PSP_BUTTON_DOWN)//下<br />		this->m_img_demo_y += 10;<br />	if(nKeyNumber == PSP_BUTTON_LEFT)//左<br />		this->m_img_demo_x -= 10;<br />	if(nKeyNumber == PSP_BUTTON_RIGHT)//右<br />		this->m_img_demo_x += 10;<br />}<br /><br />//弹起按键<br />void Game::GameButtonUp(int nKeyNumber)<br />{<br />	<br />}<br /><br />//游戏结束<br />void Game::GameEnd()<br />{<br />	Quit();<br />}<br /><br />[/code]三，图片的移动（状态机处理），以后都要用到状态机，大家一定要理解这个[code]<br /><br />Game.h:<br /><br />#ifndef _GAME_H<br />#define _GAME_H<br /><br />#include "ZGame.h"<br /><br />class Game : public ZGame<br />{<br />public:<br />	Game(){}<br />	~Game(){}<br />	<br />	void GameInitial();<br />	void GameCircle();<br />	void GameDrawScene();<br />	void GameButtonDown(int nKeyNumber);<br />	void GameButtonUp(int nKeyNumber);<br />	void GameEnd();<br /><br />private:<br />	ZImage *m_img_demo; //图片对象<br />	float m_img_demo_x,m_img_demo_y; //图片显示的左上角的坐标<br />	int m_img_demo_state; //图片坐标变化的状态值 0为静止，1为上移等等 [color=Red]，状态机[/color]};<br /><br />#endif<br /><br />[/code]Game.cpp:[code]<br />//游戏入口类<br /><br />#include "Game.h"<br /><br />void Game::GameInitial()<br />{<br />	//图像加载<br />	this->m_img_demo = new ZImage;<br />	this->m_img_demo->Load("image/demo0.jpg");<br />	this->m_img_demo_x = 0;<br />	this->m_img_demo_y = 0;<br />	this->m_img_demo_state = 0;<br />}<br /><br /><br />//游戏循环<br />void Game::GameCircle()<br />{<br />	//处理坐标变化<br />	switch(this->m_img_demo_state)<br />	{<br />	case 1: //图片上移<br />		this->m_img_demo_y -= 1;<br />		break;<br />	case 2: //图片下移<br />		this->m_img_demo_y += 1;<br />		break;<br />	case 3: //图片左移<br />		this->m_img_demo_x -= 1;<br />		break;<br />	case 4: //图片右移<br />		this->m_img_demo_x += 1;<br />		break;<br />	case 0: //图片静止<br />		break;<br />	}<br />}<br /><br />//游戏绘图<br />void Game::GameDrawScene()<br />{<br />	this->m_img_demo->Show(this->m_img_demo_x,this->m_img_demo_y); //按坐标显示<br />}<br /><br />//按下按键<br />void Game::GameButtonDown(int nKeyNumber)<br />{<br />	if(nKeyNumber == PSP_BUTTON_SELECT)GameEnd(); //按Select退出程序<br />	switch(nKeyNumber) //上下左右按下时<br />	{<br />	case PSP_BUTTON_UP: <br />		this->m_img_demo_state = 1;<br />		break;<br />	case PSP_BUTTON_DOWN:<br />		this->m_img_demo_state = 2;<br />		break;<br />	case PSP_BUTTON_LEFT:<br />		this->m_img_demo_state = 3;<br />		break;<br />	case PSP_BUTTON_RIGHT:<br />		this->m_img_demo_state = 4;<br />		break;<br />	}<br />}<br /><br />//弹起按键<br />void Game::GameButtonUp(int nKeyNumber)<br />{<br />	switch(nKeyNumber) //上下左右弹起时<br />	{<br />	case PSP_BUTTON_UP: <br />		this->m_img_demo_state = 0;<br />		break;<br />	case PSP_BUTTON_DOWN:<br />		this->m_img_demo_state = 0;<br />		break;<br />	case PSP_BUTTON_LEFT:<br />		this->m_img_demo_state = 0;<br />		break;<br />	case PSP_BUTTON_RIGHT:<br />		this->m_img_demo_state = 0;<br />		break;<br />	}<br />}<br /><br />//游戏结束<br />void Game::GameEnd()<br />{<br />	Quit();<br />}<br />[/code][attach]16670[/attach]<br /><br /><br /><br />四，提示：做个图片查看器（支持BMP ，JPG,PNG等），需要用到标准库的 文件处理函数（遍历文件名）。</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>2025982</b><br/>
2010-11-08 22:58:29</p>
</div>
<div class="col-10">
<p>不用说非法广告··删就删了···我也没想再加了··无聊转发了一个笑话结果把自己抽了···我自认倒霉··我白痴··</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>牧濑红莉栖</b><br/>
2010-11-08 23:10:56</p>
</div>
<div class="col-10">
<p>明天考期中....求分求祝福~~~</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>牧濑红莉栖</b><br/>
2010-11-08 23:13:16</p>
</div>
<div class="col-10">
<p>    LZ不要怄气，众叔们都是很慈祥很宽容的....知错了就改大家都会很欢迎的...</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>gyyfifafans</b><br/>
2010-11-09 00:45:54</p>
</div>
<div class="col-10">
<p>DS上都出烂了的游戏……毫无新意- -|||</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>gyyfifafans</b><br/>
2010-11-09 00:45:05</p>
</div>
<div class="col-10">
<p>DS上都出烂了的游戏……毫无新意- -|||</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>gyyfifafans</b><br/>
2010-11-09 00:44:52</p>
</div>
<div class="col-10">
<p>DS上都出烂了的游戏……毫无新意- -|||</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>gyyfifafans</b><br/>
2010-11-09 00:41:29</p>
</div>
<div class="col-10">
<p>我看是他们快面临危机了吧……- -|||</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>gyyfifafans</b><br/>
2010-11-09 00:39:52</p>
</div>
<div class="col-10">
<p>    吼吼！！一定一定！！</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>djbasara2424</b><br/>
2010-11-09 00:40:02</p>
</div>
<div class="col-10">
<p>12315465<br />4546456</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>ljner</b><br/>
2010-11-09 00:25:13</p>
</div>
<div class="col-10">
<p>基可修······河蟹了······</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>wz20084596</b><br/>
2010-11-09 00:26:01</p>
</div>
<div class="col-10">
<p>干净来观看~~~</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>浅仓奈绪狸猫君</b><br/>
2010-11-08 23:13:24</p>
</div>
<div class="col-10">
<p>这这这…瞎了俺的超级合金狗眼般的存在啊%…算了抛弃之前的来搞这个吧……</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>wz20084596</b><br/>
2010-11-08 23:19:48</p>
</div>
<div class="col-10">
<p>嘎嘎嘎 崔汉化是不对的~~~</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>yukishizu163</b><br/>
2010-11-08 23:29:03</p>
</div>
<div class="col-10">
<p>畫風看起來挺好的，<br />感謝分享</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>lxsgtsl</b><br/>
2010-11-08 23:34:01</p>
</div>
<div class="col-10">
<p>Bad Apple 广为流传啊。。。</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>ast</b><br/>
2010-11-08 23:52:58</p>
</div>
<div class="col-10">
<p>偶的眼睛 </p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>nh1015088</b><br/>
2010-11-08 23:59:40</p>
</div>
<div class="col-10">
<p>这个是这个是。。。好耀眼，看不清楚是什么</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>william6849</b><br/>
2010-11-09 00:00:16</p>
</div>
<div class="col-10">
<p>有待研究 俺的眼睛啊</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>nh1015088</b><br/>
2010-11-09 00:07:49</p>
</div>
<div class="col-10">
<p>此等好物，收下了。。。</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>wz20084596</b><br/>
2010-11-09 00:14:36</p>
</div>
<div class="col-10">
<p>呵呵呵 我为标题而来~~</p>
</div>
</div>

<hr class="my-4" />
<div class="row">
<div class="col-2">
<p><b>wz20084596</b><br/>
2010-11-09 00:16:11</p>
</div>
<div class="col-10">
<p>好东西 支持~~~</p>
</div>
</div>


            
            <div class="row">
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-center">
                    <!--<li class="page-item disabled">
                        <a class="page-link">Previous</a>
                    </li>
                    <li class="page-item"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#">Next</a>
                    </li>
                        -->
                        <li class="page-item active">
<a class="page-link" href="post5136_1.html">1</a>
</li>


                    </ul>
                </nav>
            </div>
        </div>


        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    </body>
</html>

